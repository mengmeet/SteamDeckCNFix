#!/bin/bash
# 停用 唯讀模式
sudo steamos-readonly disable
# 初始化 Pacman Keys
sudo pacman-key --init
sudo pacman-key --populate archlinux
# 重新安裝 glibc
sudo pacman -S glibc
# 編輯 locale.gen
sudo sed -i "s%#zh_TW.UTF-8 UTF-8%zh_TW.UTF-8 UTF-8%" /etc/locale.gen
# 生成語言
sudo locale-gen  
# 重新安裝常用程式: kde翻譯套件、plasma、系統內建程式
sudo pacman -S ki18n plasma sudo pacman -S accounts-qml-module accountsservice acl adobe-source-code-pro-fonts adwaita-icon-theme alsa-card-profiles alsa-lib alsa-plugins alsa-topology-conf alsa-ucm-conf alsa-utils amd-ucode anthy aom appstream appstream-glib appstream-qt arch-install-scripts archlinux-appstream-data archlinux-keyring argon2 ark aspell aspell-en assimp at-spi2-atk at-spi2-core atk atkmm attica attr audit avahi baloo baloo-widgets base bash bash-bats bash-completion bcc bluez bluez-libs bluez-plugins bluez-qt bluez-utils bolt boost-libs bpftrace breeze-grub brotli btop btrfs-progs bubblewrap bzip2 ca-certificates ca-certificates-mozilla ca-certificates-utils cairo cairomm cantarell-fonts caps casync-git cdparanoia cfitsio cifs-utils clang clang-libs compiler-rt convertlit coreutils cpio cpupower crda cryptsetup curl dav1d db dbus dbus-glib dbus-python dconf desktop-file-utils desync-git device-mapper diffutils discount dkms dmidecode dmraid dnssec-anchors dolphin dos2unix dosfstools double-conversion dracut drm_info-git e2fsprogs ebook-tools editorconfig-core-c efibootmgr efivar elfutils ell enchant evtest exfat-utils exiv2 expat f3 fatresize fd ffmpeg file filesystem findutils fish flac flatpak fontconfig frameworkintegration freerdp freetype2 fribidi fuse-common fuse2 fuse3 gamemode gamescope gawk gc gcab gcc gcc-libs gdb gdb-common gdbm gdk-pixbuf2 geoclue geocode-glib gettext giflib git glew glfw-x11 glib-networking glib2 glibc glibmm glslang glu gmp gnupg gnutls gobject-introspection-runtime gpgme gpm gptfdisk gpu-trace graphene graphite grep groff grub gsettings-desktop-schemas gsm gst-plugins-base gst-plugins-base-libs gstreamer gtk-update-icon-cache gtk3 gtkmm3 guile gwenview gzip harfbuzz hicolor-icon-theme hidapi holo-desync holo-keyring holo-pacman holo-pipewire holo-sudo holo-wireplumber htop hunspell hwdata iana-etc ibus ibus-anthy ibus-hangul ibus-pinyin ibus-table ibus-table-cangjie-lite icu iniparser iotop iproute2 iptables iputils iso-codes iw iwd jansson jasper jq js78 json-c json-glib jupiter-dock-updater-bin jupiter-fan-control jupiter-hw-support jupiter-legacy-support kaccounts-integration kactivities kactivities-stats karchive kauth kbd kbookmarks kcmutils kcodecs kcolorpicker kcompletion kconfig kconfigwidgets kcoreaddons kcrash kdbusaddons kdeclarative kded kdelibs4support kdesu kdnssd kdsoap kdsoap-ws-discovery-client kemoticons keyutils kfilemetadata kglobalaccel kguiaddons kholidays kiconthemes kidletime kimageannotator kio kio-extras kio-fuse kirigami2 kitemmodels kitemviews kitty-terminfo kjobwidgets kmod knewstuff knotifications knotifyconfig konsole kpackage kparts kpeople kpmcore kpty kquickcharts krb5 krunner kservice ktexteditor ktextwidgets kunitconversion kuserfeedback kwallet kwayland kwidgetsaddons kwindowsystem kwrite kxmlgui l-smash lame lcms2 ldb ldns less lib32-alsa-lib lib32-alsa-plugins lib32-brotli lib32-bzip2 lib32-curl lib32-dbus lib32-e2fsprogs lib32-expat lib32-flac lib32-fontconfig lib32-freetype2 lib32-gamemode lib32-gcc-libs lib32-glib2 lib32-glibc lib32-harfbuzz lib32-icu lib32-keyutils lib32-krb5 lib32-libasyncns lib32-libcap lib32-libdrm lib32-libelf lib32-libffi lib32-libgcrypt lib32-libglvnd lib32-libgpg-error lib32-libice lib32-libidn2 lib32-libldap lib32-libogg lib32-libpciaccess lib32-libpng lib32-libpsl lib32-libpulse lib32-libsm lib32-libsndfile lib32-libssh2 lib32-libtasn1 lib32-libtirpc lib32-libunistring lib32-libunwind lib32-libva lib32-libva-mesa-driver lib32-libvdpau lib32-libvorbis lib32-libx11 lib32-libxau lib32-libxcb lib32-libxcrypt lib32-libxdamage lib32-libxdmcp lib32-libxext lib32-libxfixes lib32-libxi lib32-libxml2 lib32-libxshmfence lib32-libxss lib32-libxtst lib32-libxxf86vm lib32-llvm-libs lib32-lm_sensors lib32-mangohud lib32-mesa lib32-mesa-vdpau lib32-ncurses lib32-nspr lib32-nss lib32-openal lib32-openssl lib32-opus lib32-p11-kit lib32-pam lib32-pcre lib32-pipewire lib32-readline lib32-renderdoc-minimal lib32-sqlite lib32-systemd lib32-util-linux lib32-vulkan-icd-loader lib32-vulkan-radeon lib32-wayland lib32-xcb-util-keysyms lib32-xz lib32-zlib lib32-zstd libaccounts-glib libaccounts-qt libaio libarchive libass libassuan libasyncns libatasmart libavc1394 libblockdev libbluray libbpf libbsd libbytesize libcanberra libcap libcap-ng libclc libcloudproviders libcolord libcroco libcups libdaemon libdatrie libdbusmenu-qt5 libdmtx libdrm libedit libelf libepoxy libevdev libevent libfdk-aac libffi libfontenc libfreeaptx libgcrypt libglvnd libgpg-error libgssglue libgudev libhangul libibus libical libice libidn2 libiec61883 libimobiledevice libinih libinput libjpeg-turbo libkdcraw libkipi libksba libldac libldap libmbim libmd libmfx libmm-glib libmnl libmodplug libmpc libmtp libndp libnetfilter_conntrack libnewt libnfnetlink libnftnl libnghttp2 libnl libnm libnotify libnsl libogg libomxil-bellagio libp11-kit libpcap libpciaccess libpgm libpipeline libplist libpng libproxy libpsl libpulse libqaccessibilityclient libqalculate libqmi libqrtr-glib libraw libraw1394 librsvg libsamplerate libsasl libseccomp libsecret libsigc++ libsm libsndfile libsodium libsoup libsoup3 libsoxr libssh libssh2 libstemmer libsysprof-capture libtasn1 libteam libthai libtheora libtiff libtirpc libtommath libtool libtraceevent libtracefs libunistring libunwind liburcu libusb libusbmuxd libutempter libva libva-intel-driver libva-mesa-driver libvdpau libvisual libvorbis libvpx libwacom libwebp libx11 libxau libxaw libxcb libxcomposite libxcrypt libxcursor libxcvt libxdamage libxdmcp libxext libxfixes libxfont2 libxft libxi libxinerama libxkbcommon libxkbcommon-x11 libxkbfile libxml2 libxmlb libxmu libxpm libxrandr libxrender libxres libxshmfence libxslt libxss libxt libxtst libxv libxxf86vm libyaml libzip licenses lilv linux-api-headers linux-firmware-neptune linux-neptune llvm-libs lm_sensors lmdb lsb-release lsof lua luit lv2 lvm2 lz4 lzo make maliit-framework maliit-keyboard man-db mangohud md4c mdadm media-player-info mesa mesa-utils mesa-vdpau minizip mobile-broadband-provider-info modemmanager modemmanager-qt mpfr mtdev nano ncurses ndctl nethogs nettle networkmanager networkmanager-qt noise-suppression-for-voice-git noto-fonts noto-fonts-cjk npth nspr nss ntfs-3g ntp numactl nvme-cli ocl-icd oniguruma openal opencl-mesa opencore-amr openjpeg2 openssh openssl openvpn opus orc ostree p11-kit p7zip pacman pacman-mirrorlist pacman-system-update pam pambase pango pangomm parted partitionmanager patch pavucontrol pciutils pcre pcre2 pcsclite perf perl perl-error perl-mailtools perl-timedate phonon-qt5 phonon-qt5-gstreamer pinentry pipewire pipewire-alsa pipewire-jack pipewire-pulse pixman pkcs11-helper pkgconf plasma-framework plasma-meta plasma-wayland-protocols plasma-wayland-session plymouth polkit polkit-qt5 ponymix poppler poppler-qt5 popt powertop ppp presage prison procps-ng psmisc purpose python python-aiohttp python-aiosignal python-async-timeout python-attrs python-chardet python-charset-normalizer python-click python-crcmod python-dnspython python-evdev python-frozenlist python-gobject python-hid python-idna python-importlib-metadata python-markdown python-multidict python-progressbar python-psutil python-pyaml python-pyenchant python-semantic-version python-six python-systemd python-sysv_ipc python-typing_extensions python-utils python-yaml python-yarl python-zipp pyzy qca-qt5 qqc2-desktop-style qrencode qt5-base qt5-declarative qt5-feedback qt5-graphicaleffects qt5-location qt5-multimedia qt5-quickcontrols qt5-quickcontrols2 qt5-sensors qt5-speech qt5-svg qt5-tools qt5-translations qt5-wayland qt5-webchannel qt5-webengine qt5-x11extras rauc rav1e re2 readline renderdoc-minimal rest ripgrep rsync rtkit rxvt-unicode-terminfo sbc sddm-wayland sdl2 seatd sed serd shadow shared-mime-info signon-kwallet-extension signon-plugin-oauth2 signon-ui signond slang smartmontools smbclient snappy socat solid sonnet sord sound-theme-freedesktop source-highlight spectacle speex speexdsp sqlite squashfs-tools sratom srt sshfs steam-im-modules steam-jupiter-stable steamdeck-kde-presets steamos-atomupd-client-git steamos-customizations-jupiter steamos-devkit-service steamos-efi steamos-netrc strace stressapptest sudo svt-av1 syndication syntax-highlighting sysfsutils systemd systemd-libs systemd-swap systemd-sysvcompat taglib talloc tar tcl tdb tevent texinfo thin-provisioning-tools threadweaver tk trace-cmd tracker3 tree tslib ttf-dejavu ttf-hack ttf-twemoji-default tzdata udisks2 unrar unzip upower usbmuxd usbutils util-linux util-linux-libs v4l-utils vid.stab vim vim-runtime vkmark-git vmaf volume_key vpower vulkan-icd-loader vulkan-radeon vulkan-tools wayland wayland-utils webrtc-audio-processing wget which wireless-regdb wireless_tools wireplumber wpa_supplicant x264 x265 xbindkeys xbitmaps xcb-proto xcb-util xcb-util-cursor xcb-util-errors xcb-util-image xcb-util-keysyms xcb-util-renderutil xcb-util-wm xdg-dbus-proxy xdg-desktop-portal xdg-user-dirs xdg-utils xdotool xf86-input-libinput xf86-video-amdgpu xfsprogs xkeyboard-config xorg-fonts-encodings xorg-server xorg-server-common xorg-setxkbmap xorg-xauth xorg-xdpyinfo xorg-xhost xorg-xkbcomp xorg-xmessage xorg-xprop xorg-xrandr xorg-xrdb xorg-xset xorg-xsetroot xorg-xwayland-jupiter xorg-xwininfo xorgproto xterm xvidcore xxhash xz yay-git zenity-light zeromq zimg zip zlib zsh zstd zxing-cpp
# 復原唯讀模式
sudo steamos-readonly enable
# 完成提示語
echo "完成！請重新開機套用修改！"